{"version":3,"file":"bundle.js","sources":["../src/lib/helpers.js","../src/lib/storage.js","../src/lib/highscore.js","../src/lib/question.js","../src/lib/game.js","../src/index.js"],"sourcesContent":["/**\n * Hreinsa börn úr elementi\n *\n * @param {object} element Element sem á að hreinsa börn úr\n */\nexport function empty(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n\n/**\n * Búa til element og aukalega setja börn ef send með\n *\n * @param {string} name Nafn á element\n * @param  {...any} children Börn fyrir element\n */\nexport function el(name, ...children) {\n  const element = document.createElement(name);\n\n  if (Array.isArray(children)) {\n    children.forEach((child) => {\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child) {\n        element.appendChild(child);\n      }\n    });\n  }\n\n  return element;\n}\n","/**\n * Sækir og vistar í localStorage\n */\n\n// Fast sem skilgreinir heiti á lykli sem vistað er undir í localStorage\nconst LOCALSTORAGE_KEY = 'calc_game_scores';\n\n/**\n * Hreinsa öll stig úr localStorage\n */\nexport function clear() {\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\n/**\n * Sækir gögn úr localStorage. Skilað sem röðuðum lista á forminu:\n * { points: <stig>, name: <nafn> }\n *\n * @returns {array} Raðað fylki af svörum eða tóma fylkið ef ekkert vistað.\n */\nexport function load() {\n  const scoresAsJson = localStorage.getItem(LOCALSTORAGE_KEY);\n\n  let result = null;\n\n  try {\n    result = JSON.parse(scoresAsJson);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.error('Villa í JSON', e);\n    clear();\n    return [];\n  }\n\n  if (!Array.isArray(result)) {\n    return [];\n  }\n\n  return result.sort((a, b) => b.points - a.points);\n}\n\n/**\n * Vista stig\n *\n * @param {string} name Nafn þess sem á að vista\n * @param {number} points Stig sem á að vista\n */\nexport function save(name, points) {\n  const saved = load();\n  saved.push({ name, points });\n\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(saved));\n}\n","// todo vísa í rétta hluti með import\n\nimport { el, empty } from './helpers';\nimport { clear, load } from './storage';\n\n/**\n * Reikna út stig fyrir svör út frá heildarfjölda svarað á tíma.\n * Ekki þarf að gera ráð fyrir hversu lengi seinasta spurning var sýnd. Þ.e.a.s.\n * stig verða alltaf reiknuð fyrir n-1 af n spurningum.\n *\n * @param {number} total Heildarfjöldi spurninga\n * @param {number} correct Fjöldi svarað rétt\n * @param {number} time Tími sem spurningum var svarað á í sekúndum\n *\n * @returns {number} Stig fyrir svör\n */\nexport function score(total, correct, time) {\n  const t = correct / total;\n\n  return Math.round(\n    (((t ** 2) + correct) * total) / time,\n  ) * 100;\n}\n\n/**\n * Útbúa stigatöflu, sækir gögn í gegnum storage.js\n */\nexport default class Highscore {\n  constructor() {\n    this.scores = document.querySelector('.highscore__scores');\n    this.button = document.querySelector('.highscore__button');\n\n    this.button.addEventListener('click', this.clear.bind(this));\n  }\n\n  /**\n   * Hlaða stigatöflu inn\n   */\n  load() {\n    const scores = load();\n    this.highscore(scores);\n  }\n\n  /**\n   * Hreinsa allar færslur úr stigatöflu, tengt við takka .highscore__button\n   */\n  clear() {\n    clear();\n    empty(this.scores);\n    const noScores = document.createElement('p');\n    noScores.textContent = 'Engin stig skráð';\n\n    this.scores.appendChild(noScores);\n\n    this.button.classList.add('highscore__button--hidden');\n  }\n\n  /**\n   * Hlaða inn stigatöflu fyrir gefin gögn.\n   *\n   * @param {array} data Fylki af færslum í stigatöflu\n   */\n  highscore(data) {\n    if (data.length === 0) {\n      return;\n    }\n\n    empty(this.scores);\n\n    const ol = el('ol');\n\n    data.forEach(({ name, points }) => {\n      const numberEl = el('span', `${points} stig`);\n      numberEl.classList.add('highscore__number');\n\n      const nameEl = el('span', name);\n      nameEl.classList.add('highscore__name');\n\n      ol.appendChild(el('li', numberEl, nameEl));\n    });\n\n    this.button.classList.remove('highscore__button--hidden');\n    this.scores.appendChild(ol);\n  }\n}\n","/**\n * Úr sýnilausn fyrir verkefni 7.\n */\n\nconst operators = ['+', '-', '*', '/'];\n\n/**\n* Skilar tölu af handahófi á bilinu [min, max]\n*/\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n* Útbýr spurningu og skilar sem hlut:\n* { problem: strengur með spurningu, answer: svar við spurningu sem tala }\n*/\n// eslint-disable-next-line import/prefer-default-export\nexport function createQuestion() {\n  const operator = operators[randomNumber(0, operators.length - 1)];\n\n  let a = null;\n  let b = null;\n  let answer = null;\n\n  switch (operator) {\n    case '+':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, 100);\n      answer = a + b;\n      break;\n    case '-':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, a);\n      answer = a - b;\n      break;\n    case '*':\n      a = randomNumber(1, 10);\n      b = randomNumber(1, 10);\n      answer = a * b;\n      break;\n    case '/':\n      b = randomNumber(2, 10);\n      a = randomNumber(2, 10) * b;\n      answer = a / b;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    problem: `${a} ${operator} ${b}`,\n    answer,\n  };\n}\n","// todo vísa í rétta hluti með import\n\nimport Highscore, { score } from './highscore';\nimport { createQuestion } from './question';\nimport { save } from './storage';\n\n// allar breytur hér eru aðeins sýnilegar innan þessa módúl\n\nlet startButton; // takki sem byrjar leik\nlet problem; // element sem heldur utan um verkefni, sjá index.html\nlet result; // element sem heldur utan um niðurstöðu, sjá index.html\n\nlet playTime; // hversu lengi á að spila? Sent inn gegnum init()\nlet total = 0; // fjöldi spurninga í núverandi leik\nlet correct = 0; // fjöldi réttra svara í núverandi leik\nlet currentProblem; // spurning sem er verið að sýna\n\n/**\n * Klárar leik. Birtir result og felur problem. Reiknar stig og birtir í result.\n */\nfunction finish() {\n  problem.classList.add('problem--hidden');\n  result.classList.remove('result--hidden');\n\n  const points = score(total, correct, playTime);\n\n  const resultText = result.querySelector('.result__text');\n\n  const text = `Þú svaraðir ${correct} rétt af ${total} spurningum og fékkst ${points} stig fyrir. Skráðu þig á stigatöfluna!`;\n\n  resultText.textContent = text;\n\n  // todo útfæra\n}\n\n/**\n * Keyrir áfram leikinn. Telur niður eftir því hve langur leikur er og þegar\n * tími er búinn kallar í finish().\n *\n * Í staðinn fyrir að nota setInterval köllum við í setTimeout á sekúndu fresti.\n * Þurfum þá ekki að halda utan um id á intervali og skilum falli sem lokar\n * yfir fjölda sekúnda sem eftir er.\n *\n * @param {number} current Sekúndur eftir\n */\nfunction tick(current) {\n  const timer = problem.querySelector('.problem__timer');\n  timer.textContent = current;\n\n  if (current <= 0) {\n    return finish();\n  }\n\n  return () => {\n    setTimeout(tick(current - 1), 1000);\n  };\n}\n\n/**\n * Býr til nýja spurningu og sýnir undir .problem__question\n */\nfunction showQuestion() {\n  total += 1;\n  currentProblem = createQuestion();\n  const question = problem.querySelector('.problem__question');\n  question.textContent = currentProblem.problem;\n}\n\n/**\n * Byrjar leik\n *\n * - Felur startButton og sýnir problem\n * - Núllstillir total og correct\n * - Kallar í fyrsta sinn í tick()\n * - Sýnir fyrstu spurningu\n */\nfunction start() {\n  startButton.classList.add('button--hidden');\n  problem.classList.remove('problem--hidden');\n\n  total = 0;\n  correct = 0;\n\n  setTimeout(tick(playTime), 1000);\n\n  showQuestion();\n}\n\n/**\n * Event handler fyrir það þegar spurningu er svarað. Athugar hvort svar sé\n * rétt, hreinsar input og birtir nýja spurningu.\n *\n * @param {object} e Event þegar spurningu svarað\n */\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const input = e.target.querySelector('input');\n  const answer = Number.parseInt(input.value, 10);\n\n  if (currentProblem.answer === answer) {\n    correct += 1;\n  }\n\n  input.value = '';\n\n  showQuestion();\n}\n\n/**\n * Event handler fyrir þegar stig eru skráð eftir leik.\n *\n * @param {*} e Event þegar stig eru skráð\n */\nfunction onSubmitScore(e) {\n  e.preventDefault();\n\n  const input = e.target.querySelector('input');\n  const name = input.value;\n\n  const points = score(total, correct, playTime);\n\n  save(name, points);\n\n  const highscore = new Highscore();\n  highscore.load();\n\n  total = 0;\n  correct = 0;\n\n  result.classList.add('result--hidden');\n  problem.classList.add('problem--hidden');\n  startButton.classList.remove('button--hidden');\n}\n\n/**\n * Finnur öll element DOM og setur upp event handlers.\n *\n * @param {number} _playTime Fjöldi sekúnda sem hver leikur er\n */\nexport default function init(_playTime) {\n  playTime = _playTime;\n\n  startButton = document.querySelector('.start');\n  result = document.querySelector('.result');\n  problem = document.querySelector('.problem');\n\n  startButton.addEventListener('click', start);\n\n  const scoreForm = document.querySelector('.problem__answer');\n  scoreForm.addEventListener('submit', onSubmit);\n\n  const resultForm = document.querySelector('.result__form');\n  resultForm.addEventListener('submit', onSubmitScore);\n}\n","import initGame from './lib/game';\nimport Highscore from './lib/highscore';\n\nconst PLAY_TIME = 2;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initGame(PLAY_TIME);\n\n  const highscore = new Highscore();\n  highscore.load();\n});\n"],"names":["empty","element","firstChild","removeChild","el","name","document","createElement","children","Array","isArray","forEach","child","appendChild","createTextNode","LOCALSTORAGE_KEY","clear","localStorage","removeItem","load","scoresAsJson","getItem","result","JSON","parse","e","console","error","sort","a","b","points","save","saved","push","setItem","stringify","score","total","correct","time","t","Math","round","Highscore","scores","querySelector","button","addEventListener","bind","highscore","noScores","textContent","classList","add","data","length","ol","numberEl","nameEl","remove","operators","randomNumber","min","max","floor","random","createQuestion","operator","answer","problem","startButton","playTime","currentProblem","finish","resultText","text","tick","current","timer","setTimeout","showQuestion","question","start","onSubmit","preventDefault","input","target","Number","parseInt","value","onSubmitScore","init","_playTime","scoreForm","resultForm","PLAY_TIME","initGame"],"mappings":"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"}