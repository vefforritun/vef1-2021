---
title: Fyrirlestur 13.2 ‚Äì CSS upprifjun
---

# Fyrirlestur 13.2 ‚Äì CSS upprifjun

## Vefforritun 1 ‚Äî T√ñL107G

### √ìlafur Sverrir Kjartansson, [osk@hi.is](mailto:osk@hi.is)

---

## Hva√∞ er CSS?

* [Cascading Style Sheets](http://en.wikipedia.org/wiki/Cascading_Style_Sheets)
* CSS er style sheet language sem l√Ωsir framsetningu √° skjali skrifu√∞u √≠ markup language, t.d. HTML, XHTML, XML og SVG
* Hanna√∞ til a√∞ a√∞skilja efni fr√° √∫tliti

***

## Tenging vi√∞ html

√ç √¶skilegri r√∂√∞:

1. V√≠sa √≠ skr√° (`.css` ending): `<link rel="stylesheet" href="...">` √≠ `<head>` ‚Äì vi√∞h√∂ldum algj√∂rum a√∞skilna√∞i
2. `<style>` blokk √≠ HTML skjali, helst √≠ `<head>` ‚Äì ekki alveg jafn hreint en a√∞skiljum √æ√≥ fr√° markup
3. `style` attribute √° element ‚Äì *alls ekki* √¶skilegt √æar sem vi√∞ erum a√∞ binda √∫tlit vi√∞ element √≠ markup

***

## Selectors

* Strengur sem l√Ωsir √æv√≠ hva√∞a element vi√∞ viljum a√∞ taki vi√∞ _skilgreiningum_
  - Skiptast √≠ sex flokka
* Getum tengt saman
  - Fj√≥rar ger√∞ir af samtengingum

***

## Selectors ‚Äì flokkar

* _Type selector_, heiti √° elementi, t.d. `p`
* _Universal selector_, √∂ll element, `*`
* _Attribute selector_, velur element eftir attribute og innihaldi

***

* _Class selector_, velur element eftir √æv√≠ hva√∞ `class` attribute inniheldur, notar `.` (punkt)
* _ID selector_, velur element eftir √æv√≠ hva√∞ `id` attribute inniheldur
* _Gervi-klasar_ (pseudo-classes), velur hluti sem ekki er h√¶gt a√∞ velja me√∞ hinum, notum `:`

***

## Yfirl√Ωsingar

* Reglusett inniheldur yfirl√Ωsingar:
  - `eigindi: gildi;`
* Mj√∂g m√∂rg eigindi, m√∂guleg gildi f√¶rri

***

## Gildi

* stringir
* URL
* Litir
* T√∂lur

***

## Lengdir

* N√°kv√¶mar einingar
  - t.d. `in`, `cm`
  - Notum mest `px` e√∞a _pixel_
* Hlutfallslegar einingar
* `auto` leyfir vafra a√∞ reikna lengdina

***

## Hlutfallslegar einingar

* Letur-hlutfallslegar einingar (font-relative lengths)
* Skj√°-pr√≥sentu einingar (viewport percentage lengths)

***

## Letur-hlutfallslegar einingar

* Horfa til `font-size` eigindsins
* Yfirleitt `em` e√∞a `rem`
* √ç grunninn er `1em == 16px` en getum breytt me√∞ a√∞ setja `font-size` √° `html`

***

## Skj√°-pr√≥sentu einingar

* Hlutfallslegar vi√∞ st√¶r√∞ _viewports_ sem er yfirleitt st√¶r√∞ vafragluggans.
* `vw` er ein eining √° breiddina (_viewport width_) svo `100vw` myndi fylla upp √≠ skj√° √° breiddina
* `vh` er ein eining √° h√¶√∞ina (_viewport height_) svo `100vh` myndi fylla upp √≠ skj√° √° h√¶√∞ina

---

## Box model

Box m√≥deli√∞ l√Ωsir √æv√≠ hvernig r√©tthyrnd box fyrir element eru myndu√∞.

![√ötsk√Ωringar mynd af box modelinu](img/boxmodel.png)

***

## Margin

* Ysta lag boxsins me√∞ skilgreinda lengd
  - `margin-top`, `margin-right`, `margin-bottom` og `margin-left`
* Getur veri√∞ neikv√¶√∞ tala
* Ef vinstri og h√¶gri margin eru sett sem `auto` er element mi√∞ja√∞

***

## Border

* N√¶st ystalag boxsins, getum skilgreint:
  - width sem j√°kv√¶√∞ tala me√∞ `border-width`
  - style me√∞ lykilor√∞i, t.d. `solid` √≠ `border-style`
  - color sem litagildi me√∞ `border-color`
* `border: breidd st√≠ll litur;` ‚Üí `border: 1px solid #000;`

***

## Padding

* N√¶st innstalag boxsins
* Skilgreint eins og margin en getur ekki fengi√∞ neikv√¶tt gildi
* Shorthand eins og margin
* F√¶r bakgrunnslit sem skilgreindur er √° hlut

***

## Breidd og h√¶√∞

* Getum skilgreint breidd me√∞ `width` og h√¶√∞ me√∞ `height` fyrir efni√∞
* Hlutfallslegar st√¶r√∞ir mi√∞a vi√∞ foreldri
* √Üttum aldrei a√∞ setja h√¶√∞ √° boxi nema vi√∞ h√∂fum mj√∂g g√≥√∞a √°st√¶√∞u
  - Efni √¶tti a√∞ st√Ωra h√¶√∞ √° boxi
* `auto` l√¶tur vafra finna √∫t gildi sj√°lfkrafa

***

## Boxi√∞

V√≠dd box er √æ√° reikna√∞:

```text
width = left margin + right margin
  + left border + right border + left padd
  + right padding + content width

height = top margin + bottom margin
  + top border + bottom border + top padd
  + bottom padding + content height
```

---

## Specificity ‚Äì s√©rt√¶kni

* ‚ÄûTala‚Äú √° forminu `a,b,c,d`
* `a`, 1 ef skilgreint √≠ `style` attribute, annars 0
* `b`, fj√∂ldi `id` selectora
* `c`, fj√∂ldi attribute selectora og gervi-klasa
* `d`, fj√∂ldi elementa og gervi-elementa
* S√≠√∞an skeytt saman √≠ t√∂lu sem er _s√©rt√¶kni_

***

## Cascade ‚Äì ‚Äûfl√≥√∞i√∞‚Äú

* √ûegar √∫tlit er birt √æarf a√∞ komast a√∞ √æv√≠ _n√°kv√¶mlega_ hva√∞a skilgreiningar eigi vi√∞ hvert element
* Allar skilgreiningar fyrir element fundnar og ra√∞a√∞

***

Skilgreiningar geta komi√∞ fr√° √æremur st√∂√∞um:

* _User agent_, sj√°lfgefnir st√≠lar fr√° t√¶ki sem birtir
* _Notanda_, notandi t√¶kis, t.d. a√∞ allt s√© st√¶kka√∞
* _H√∂fundi_, skilgreiningar fr√° h√∂fundi vefs

***

## R√∂√∞un

1. Skilgreiningum user agents
2. Skilgreiningum notanda
3. Skilgreiningum h√∂fundar
4. Skilgreiningum h√∂fundar merktar me√∞ `!important`
5. Skilgreiningum notanda merktar me√∞ `!important`
6. S√©rt√¶kni
7. R√∂√∞ innan skjals, seinna skilgreint f√¶r forgang

***

## Reset

* Hver vafri stillir sitt user agent stylesheet
* Viljum oft hafa hreinan grunn
* CSS reset setur √∂ll element √≠ ‚Äûn√∫llst√∂√∞u‚Äú
* [CSS Tools: Reset CSS](http://meyerweb.com/eric/tools/css/reset/)

---

## Visual formatting model

* Ger√∞ boxa
  - `block` vs. `inline` og `display` eigindi√∞
* E√∞lilegt fl√¶√∞i
* Sta√∞setningu me√∞ `position`
* Float
* √ûri√∞ju v√≠ddin

---

## Leturger√∞ir

* Leturger√∞ segir til um hva√∞a h√∂nnun √° letri vi√∞ notum til a√∞ birta texta
* √ç grunninn h√∂fum vi√∞ a√∞gang a√∞ almennum leturger√∞um
* _Vef √∂ruggar_ leturger√∞ir eru a√∞gengilegar √° langflestum t√¶kjum

***

## Letur

* `font-family` skilgreinir hva√∞a leturger√∞ vi√∞ viljum nota, √≠ r√∂√∞
  - `font-family: helvetica, arial, sans-serif;` ef helvetica er ekki til hj√° notanda notum vi√∞ arial annars sj√°lfgefna sans-serif leturger√∞
  - √Üttum alltaf a√∞ enda √° vef √∂ruggri leturger√∞
* `font-style: italic;` sk√°sett letur e√∞a `normal`

***

* `font-variant` setur √Ωmsar breytur √° leturger√∞, t.d. a√∞ setja texta √≠ `small-caps`
* `font-weight` setur √æyngd leturs, √≠ t√∂lum (t.d. `700`) e√∞a heitum (t.d. `bold`)
* `font-size` setur st√¶r√∞ leturs
* `line-height` setur h√¶√∞ l√≠nu (hlutfall af leturst√¶r√∞), skilgreint √°n einingar

***

## Bakgrunnur og litir

* `background-color` setur lit √° bakgrunn, sj√°lfgefi√∞ gildi er gegns√¶tt (transparent)
* `background-image` setur mynd √° bakgrunn eftir sl√≥√∞, svona notum vi√∞ myndir √≠ CSS

---

## Progressive enhancement

* Upplifun sem krefst minnstu m√∂gulegrar t√¶kni
* B√¶tum virkni vi√∞ eins og stu√∞ningur er til sta√∞ar
* Byrjum einfalt og b√¶tum vi√∞ virkni √≠ l√∂gum

***

1. Skrifum √°hugavert, sk√Ωrt efni
2. Setjum √æa√∞ upp me√∞ a√∞gengilegu, merkingarfr√¶√∞ilegu HTML
3. B√¶tum vi√∞ grunn √∫tliti sem er vel stutt
4. B√¶tum vi√∞ fl√≥knara √∫tliti sem er e.t.v. minna stutt
5. B√¶tum vi√∞ aukinni virkni me√∞ JavaScript

***

## Fallback

* N√Ω eigindi e√∞a gildi leyfa okkur a√∞ gera eitthva√∞ skemmtilegt
* En hva√∞ ef √æa√∞ eru ekki allir vafrar farnir a√∞ sty√∞ja eigindi√∞? üò©
* Skilgreinum _fallback_ gildi sem vi√∞ erum nokku√∞ viss um a√∞ s√© stutt

***

## Shim & polyfill

* Shim (e√∞a shiv) er virkni sem ‚Äûstungi√∞‚Äú er inn og veitir virkni fr√° n√Ωju API √≠ g√∂mlu umhverfi
* Polyfill er k√≥√∞i e√∞a plugin sem veitir √æ√©r a√∞gang a√∞ virkni sem √æ√∫ gerir r√°√∞ fyrir a√∞ vafrinn bj√≥√∞i upp √°. √û.e.a.s. shim fyrir vafra API
* [HTML5 Cross Browser Polyfills](https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills)

***

## A√∞ skrifa CSS

* Notum _√≠ dag_ virkni sem ver√∞ur ekki a√∞ fullu studd √≠ √∂llum v√∂frum fyrr en _√≠ framt√≠√∞inni_
* √Åkve√∞um hva√∞a vafra og st√Ωrikerfi vi√∞ √¶tlum (e√∞a √¶tlum ekki a√∞ sty√∞ja)
* Pr√≥fum √≠ vi√∞eigandi t√¶kjum
* N√Ωtum okkur _progressive enhancement_

---

## CSS variables

* CSS variables leyfa okkur a√∞ skilgreina breytur
  - t.d. fyrir lit, √°kve√∞na lengd e√∞a eitthva√∞ anna√∞ sem er miki√∞ nota√∞
* Breytingar ver√∞a au√∞veldari og getur b√¶tt lesanleika

***

## object-fit

* St√Ωrum √æv√≠ hvernig innfellt efni (t.d. mynd) er me√∞h√∂ndla√∞
* `fill`, sj√°lfgefi√∞, fyllir algj√∂rlega √∫t √≠ foreldi
* `cover`, hlutur fyllir √∫t √≠ box en st√¶r√∞arhlutf√∂llum er haldi√∞, ef hlutur passar ekki er klippt af honum

***

* `contain`, hlutur fyllir √∫t √≠ box en st√¶r√∞arhlutf√∂llum er haldi√∞, ef hlutur passar ekki er hann skala√∞ur, getur myndast ‚Äûletterbox‚Äú
* `none`, ekkert er √°tt vi√∞ hlut

---

## Flexbox

* Segjum foreldri a√∞ ra√∞a b√∂rnum s√≠num me√∞ flexbox me√∞ `display: flex`
  - E√∞a `display: inline-flex` til a√∞ ra√∞a foreldri inline
* Element me√∞ `display: flex` eru k√∂llu√∞ _flex containers_
* B√∂rn innan flexbox eru k√∂llu√∞ _flex items_

***


## √Åsar

![Sk√Ωringarmynd um flex √°sa](img/flex-direction-terms.svg)

***

* H√∂fum skilgreinda tvo √°sa
  - A√∞al√°s (main axis)
  - Kross√°s (cross axis)
* Hornr√©ttir hvor √° annan

***

## St√¶r√∞ir

* Vi√∞ getum st√Ωrt √æv√≠ hvernig flex item taka pl√°ss innan flexbox me√∞ `flex-grow`, `flex-shrink` og `flex-basis`
* `flex-grow` er rauntala, st√¶rri en 0 og skilgreinir hvernig flex item st√¶kkar √≠ hlutfalli vi√∞ √∂nnur flex item, sj√°lfgefi√∞ er `0`. ‚Äûgrowth factor‚Äú

***

## St√¶r√∞ir ‚Äì `flex`

* `initial`, sj√°lfgefi√∞, flex item minnka ef ekki er n√≥g pl√°ss en st√¶kka ekki umfram `width` og `height`
* `auto`, st√¶r√∞ skv. `width` og `height` en st√¶kkar til a√∞ f√° auka pl√°ss √≠ flexboxi
* `none`, flex item st√¶kka hvorki n√© minnka
* `<tala>`, tilgreinir hlutfall sem flex item f√¶r af pl√°ssi, `grow`

***

* `<tala> <tala>`, setur `grow` og `shrink` faktor
* `<tala> <tala> <tala>` setur `grow`, `shrink` og `basis`
* `flex: 1 0 300px;`
  - Upprunalega √° a√∞ reikna st√¶r√∞ sem 300px, √æessi st√¶r√∞ m√° aukast en h√∫n m√° ekki minnka

---

![Vefurinn er ekki ein f√∂st skj√°st√¶r√∞](img/this-is-not-web.png)

***

![Vefurinn er margar skj√°st√¶r√∞ √° m√∂rgum t√¶kjum](img/this-is-the-web.png)

***

![Vefurinn mun a√∞eins halda √°fram a√∞ ver√∞a fl√≥knari](img/this-will-bethe-web.png)

***

Byggir √°, √≠ r√∂√∞:

1. Sveigjanlegu umbroti, bygg√∞u √° grind
2. Sveigjanlegum myndum og mi√∞lum
3. CSS media queries

***

* Birtum...
  - sama efni√∞...
  - me√∞ sama HTML...
  - √° s√∂mu sl√≥√∞
  - en a√∞l√∂gum okkur a√∞ t√¶ki
* Vefurinn er nota√∞ur √≠ allskonar t√¶kjum, breg√∞umst vi√∞ √æv√≠!

***

## Mobile first

* Byrjum √° upplifun √≠ minni t√¶kjum
* Ney√∞ir √æig til a√∞ taka √°kvar√∞anir
* Efni√∞ √≠ fyrirr√∫mi, ekki √≥√æarfa ‚Äûskraut‚Äù
* Progressive enhancement!

***

## Sveigjanleg grind

* __Notum hlutfallsleg gildi, ekki n√°kv√¶m__
* Ef umgj√∂r√∞ minnkar, √æ√° minnkar allt hlutfallslega innan hennar
* Getum fest umgj√∂r√∞ina til a√∞ festa allt innihald
* Notum yfirleitt `max-width` √° umgj√∂r√∞ til a√∞ setja h√°marksbreidd

***

### `<meta name="viewport">`

Getum lei√∞beint vafra hvernig s√≠√∞a birtist:

* `width` setur breidd viewports:
  - `tala` ‚Äì f√∂st breidd
  - `device-width` ‚Äî viewport er jafnt _logical resolution_ ekki _physical resolution_
* `initial-scale`, upphafs zoom √° s√≠√∞u

---

## Kvikun

* Kvikun (animation) er √æegar vi√∞ l√°tum eitthva√∞ hreyfast eftir √°kve√∞num reglum
* √ç CSS er h√¶gt a√∞ gera √æa√∞ me√∞ `transition` og `animation` eigindunum

***

## Umskipti (transition)

* L√°tum eitt gildi breytast √≠ anna√∞ √° skilgreindum t√≠ma
* Br√∫a√∞ √° milli upphafs- og endagildis

***

## Hr√∂√∞un

* Hr√∂√∞unarfall er skilgreint me√∞ _r√∫mfr√¶√∞ilegri bezier k√∫rvu_ (cubic bezier curve)
* e√∞a lykilor√∞i sem tengt er √°kve√∞inni bezier k√∫rvu

***

## Animation

* Me√∞ `animation` eigindinu getum vi√∞ √∫tb√∫i√∞ fl√≥knari hreyfingar √°n √æess a√∞ nota JavaScript
* Skilgreinum _keyframes_ fyrir hreyfinguna me√∞ `@keyframes` at-reglunni

***

* Lykilor√∞ (`from`, `to`) e√∞a pr√≥sentugildi sem ‚Äûselectorar‚Äú innan keyframes
* Gildin segja til um hvernig hreyfing l√≠tur √∫t √° vi√∞eigandi sta√∞ og mun vafri br√∫a √° milli m.v. gefinn t√≠ma og hr√∂√∞un

***

## Transform

* Me√∞ `transform` eigindinu getum vi√∞ gert breytingar √° tv√≠v√≠√∞u og √ær√≠v√≠√∞u r√∫mi hluta
  - `translate`, `rotate`, `skew` og `scale`
* Lang flestar af √æessum a√∞ger√∞um ver√∞a fluttar af vafra fr√° _CPU_ yfir √° _GPU_
* **Miklu** hagkv√¶mari en a√∞ reikna √∫t gildi og teikna allt √∫tlit vefs aftur ef vi√∞ myndum t.d. nota `position`

***

## Jank

* 60 rammar √° sek√∫ndu er galdratalan, allt l√≠tur √∫t fyrir a√∞ vera _silki mj√∫kt_
  - H√∂fum 16,67ms per ramma
* H√∂ldum okkur vi√∞ hluti sem er √≥d√Ωrt og hagst√¶tt a√∞ hreyfa

***

**A√∞eins breyta `opacity` og `transform` √æegar vi√∞ hreyfum hluti til a√∞ halda 60fps**

---

## CSS √≠ st√¶rri verkefnum

* √ç byrjun eru CSS skr√°rnar okkar einfaldar og vi√∞ h√∂fum yfirs√Ωn
* √ûurfum ekki a√∞ b√¶ta miklu vi√∞ √°√∞ur en √æ√¶r ver√∞a fl√≥knar
* Getum enda√∞ me√∞ ‚Äûappend only stylesheets‚Äú
  - √ûorum bara a√∞ b√¶ta vi√∞ n√Ωju CSS ne√∞st

***

## BEM

Lei√∞ til a√∞ nota selectora

* _Block_ - h√¶sta stig √° _component_, foreldri√∞, t.d. `.button`
* _Element_ - b√∂rn undir _block_, t.d. `.button__price`
* _Modifier_ - breytir block √°n √æess a√∞ hafa √°hrif almennt, t.d. `.button--wide`
